import{j as T}from"./jsx-runtime-D_zvdyIk.js";import{g as R,R as x}from"./iframe-j35EKpAQ.js";import{B as k}from"./button-Cc6E7tyq.js";import"./preload-helper-PPVm8Dsz.js";import"./index-DqVAgsJl.js";import"./objectWithoutPropertiesLoose-AGTbIyKU.js";import"./index-BuEuhmWt.js";import"./index-DnnyNCso.js";var b,h;function S(){return h||(h=1,b=function(){var r=document.getSelection();if(!r.rangeCount)return function(){};for(var o=document.activeElement,l=[],i=0;i<r.rangeCount;i++)l.push(r.getRangeAt(i));switch(o.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":o.blur();break;default:o=null;break}return r.removeAllRanges(),function(){r.type==="Caret"&&r.removeAllRanges(),r.rangeCount||l.forEach(function(u){r.addRange(u)}),o&&o.focus()}}),b}var C,w;function q(){if(w)return C;w=1;var r=S(),o={"text/plain":"Text","text/html":"Url",default:"Text"},l="Copy to clipboard: #{key}, Enter";function i(n){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function u(n,e){var a,p,v,d,c,t,f=!1;e||(e={}),a=e.debug||!1;try{v=r(),d=document.createRange(),c=document.getSelection(),t=document.createElement("span"),t.textContent=n,t.ariaHidden="true",t.style.all="unset",t.style.position="fixed",t.style.top=0,t.style.clip="rect(0, 0, 0, 0)",t.style.whiteSpace="pre",t.style.webkitUserSelect="text",t.style.MozUserSelect="text",t.style.msUserSelect="text",t.style.userSelect="text",t.addEventListener("copy",function(s){if(s.stopPropagation(),e.format)if(s.preventDefault(),typeof s.clipboardData>"u"){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=o[e.format]||o.default;window.clipboardData.setData(g,n)}else s.clipboardData.clearData(),s.clipboardData.setData(e.format,n);e.onCopy&&(s.preventDefault(),e.onCopy(s.clipboardData))}),document.body.appendChild(t),d.selectNodeContents(t),c.addRange(d);var E=document.execCommand("copy");if(!E)throw new Error("copy command was unsuccessful");f=!0}catch(s){a&&console.error("unable to copy using execCommand: ",s),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),f=!0}catch(g){a&&console.error("unable to copy using clipboardData: ",g),a&&console.error("falling back to prompt"),p=i("message"in e?e.message:l),window.prompt(p,n)}}finally{c&&(typeof c.removeRange=="function"?c.removeRange(d):c.removeAllRanges()),t&&document.body.removeChild(t),v()}return f}return C=u,C}var $=q();const j=R($),D=function(r){const{text:o,onCopy:l,children:i,options:u}=r,n=x.Children.only(i);function e(a){const p=j(o,u);l?.(o,p),typeof n?.props?.onClick=="function"&&n?.props?.onClick(a)}return x.cloneElement(n,{onClick:e})};D.__docgenInfo={description:"",methods:[],displayName:"CopyToClipboard",props:{text:{required:!0,tsType:{name:"string"},description:""},onCopy:{required:!1,tsType:{name:"signature",type:"function",raw:"(text: string, result: boolean) => void",signature:{arguments:[{type:{name:"string"},name:"text"},{type:{name:"boolean"},name:"result"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"ReactElement"},description:""},options:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  debug?: boolean;
  message?: string;
  format?: string;
}`,signature:{properties:[{key:"debug",value:{name:"boolean",required:!1}},{key:"message",value:{name:"string",required:!1}},{key:"format",value:{name:"string",required:!1}}]}},description:""}}};const F={title:"Components/复制文本组件",component:D,parameters:{layout:"centered",docs:{description:{component:"用于复制文本的组件，将需要的文本通过text传入，onCopy回调函数在文本复制成功时调用"}}},tags:["autodocs"],argTypes:{text:{control:"text",description:"自定义需要复制的文本内容"},onCopy:{control:"object",table:{type:{summary:"(text:string, result:boolean)=>void",detail:"文本复制成功时的回调函数，text为文本，result表示复制结果是否成功"}}}}},m={args:{onCopy:(r,o)=>{alert(`复制${o?"成功":"失败"}！复制内容:${r}`)},text:"我是复制的文本",children:T.jsx("button",{children:"点击复制文本"})}},y={args:{onCopy:(r,o)=>{alert(`复制${o?"成功":"失败"}！复制内容:${r}`)},text:"我是复制的文本",children:T.jsx(k,{type:"primary",children:"button child"})}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  args: {
    onCopy: (text: string, result: boolean) => {
      alert(\`复制\${result ? "成功" : "失败"}！复制内容:\${text}\`);
    },
    text: "我是复制的文本",
    children: <button>点击复制文本</button>
  }
}`,...m.parameters?.docs?.source}}};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:`{
  args: {
    onCopy: (text: string, result: boolean) => {
      alert(\`复制\${result ? "成功" : "失败"}！复制内容:\${text}\`);
    },
    text: "我是复制的文本",
    children: <Button type="primary">button child</Button>
  }
}`,...y.parameters?.docs?.source}}};const M=["OnCopy","Children"];export{y as Children,m as OnCopy,M as __namedExportsOrder,F as default};
